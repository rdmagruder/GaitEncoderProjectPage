<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GaitEncoder – Foundational Representations of Gait</title>

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body {font-family: "Google Sans", sans-serif;}
    body.dark-mode {background:#1a1a1a;color:#f3f3f3;}
    body.dark-mode .card {background:#2d2d2d;color:#f3f3f3;}

    /* --- Single-row layout, centered --- */
    .row-5{
      display:flex;
      gap:1.25rem;
      justify-content:center; /* center the whole row */
      align-items:flex-start; /* top-align cards so video tops line up */
      flex-wrap:nowrap;       /* keep on one row */
      overflow:visible;       /* no scrollbars; they fit */
    }

    .row-5 > .video-thumb {
      margin-top: 1.25rem; /* space from top */
      margin-bottom: 1.5rem; /* space from bottom */
    }


    /* --- Video cards: fixed width for perfect alignment --- */
    .video-thumb{width:240px; transition:transform .2s;}
    .video-thumb:hover{transform:scale(1.03)}
    .video-thumb video {
      width: 100%;
      aspect-ratio: 3 / 4;
      object-fit: cover;
      cursor: pointer;
      display: block;
    }
    .card{margin:0;}
    .card-image figure{margin:0;aspect-ratio:3/4;} /* consistent aspect ratio */
    .card-content{border-top:none;}
    .badge{display:inline-block;font-size:.65rem;border-radius:999px;padding:.15rem .5rem;margin-left:.35rem;background:#f0f0f0;color:#4a4a4a}
    body.dark-mode .badge{background:#444;color:#ddd}

    /* --- Unseen group: bigger than its contents --- */
    .unseen-group{
      position:relative;
      display:flex;
      flex-direction:row;
      align-items:flex-start;
      gap:1.25rem; /* same gap as row */
      background:#eeeeee;
      border-radius:14px;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,0.06);
      padding: 0 1.25rem; /* left and right padding for the box */
    }
    body.dark-mode .unseen-group{background:#333; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.06);}
    .unseen-group > .video-thumb {
      width: 168px;
      margin-top: 1.25rem;
      margin-bottom: 1.5rem;
    }
    /* --- Centered label over the two unseen videos --- */
    .unseen-label{
      position:absolute;
      top:-14px;
      left:50%;
      transform:translateX(-50%); /* center over the group */
      background:#9e9e9e;
      color:#fff;
      font-size:.8rem;
      font-weight:600;
      padding:.2rem .65rem;
      border-radius:999px;
      letter-spacing:.2px;
      white-space:nowrap;
    }
    body.dark-mode .unseen-label{background:#666;}

    /* Minor: dark toggle */
    .dark-mode-toggle {position: fixed; top: 1rem; right: 1rem; z-index: 1000;}
    .dark-mode-toggle .button {border-radius: 50%;}
  </style>
</head>
<body>
<!-- Dark-mode toggle (optional) -->
<div class="dark-mode-toggle">
  <button class="button is-small" id="dark-toggle" aria-label="Toggle dark mode">
    <span class="icon"><i class="fas fa-moon"></i></span>
  </button>
</div>
<script>
  const body=document.body,btn=document.getElementById('dark-toggle'); if(btn){
    const icon=btn.querySelector('i');
    if(localStorage.getItem('dark')==='true'){body.classList.add('dark-mode');icon.classList.replace('fa-moon','fa-sun');}
    btn.onclick=()=>{body.classList.toggle('dark-mode');const d=body.classList.contains('dark-mode');localStorage.setItem('dark',d);icon.classList.toggle('fa-moon');icon.classList.toggle('fa-sun');};
  }
</script>

<section class="hero is-fullwidth">
  <div class="hero-body">
    <div class="container has-text-centered">
      <h1 class="title is-2">GaitEncoder: Learning Foundational Representations of Gait</h1>
      <h2 class="subtitle is-5">R. Daniel Magruder, Selim Gilon, Antoine Falisse, Scott D. Uhlrich</h2>
      <p class="is-size-6"><em>Movement Bioengineering Lab, University of Utah</em></p>
    </div>
  </div>
</section>

<section class="section">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Example Reconstructions</h2>

    <!-- Modal for large playback -->
    <div class="modal" id="modal">
      <div class="modal-background"></div>
      <div class="modal-content">
        <div class="box p-0">
          <video id="modal-video" controls autoplay loop style="width:100%"></video>
        </div>
      </div>
      <button class="modal-close is-large" aria-label="close"></button>
    </div>

    <!-- One centered row: 3 seen + a padded, labeled grey box with 2 unseen -->
    <div id="video-row" class="row-5"></div>
  </div>
</section>

<script>
  const vids=[
    {file:'static/videos/unimpaired.mp4', label:'Unimpaired', dmu:0.90, group:'seen'},
    {file:'static/videos/post_stroke.mp4', label:'Post-Stroke', dmu:3.50, group:'seen'},
    {file:'static/videos/cerebral_palsy.mp4', label:'Cerebral Palsy', dmu:2.24, group:'seen'},
    {file:'static/videos/myotonic_dystrophy.mp4', label:'Myotonic Dystrophy', dmu:2.53, group:'unseen'},
    {file:"static/videos/parkinsons.mp4", label:"Parkinson's Disease", dmu:2.09, group:'unseen'}
  ];

  const row = document.getElementById('video-row');

  function makeCard(v){
    const wrap = document.createElement('div');
    wrap.className = 'video-thumb';
    wrap.innerHTML = `
      <div class="card">
        <div class="card-image">
          <figure class="image">
            <video muted loop playsinline></video>
          </figure>
        </div>
        <div class="card-content py-1 has-text-centered">
          <p class="is-size-7 has-text-weight-medium mb-0 label"></p>
        </div>
      </div>`;
    const vidEl = wrap.querySelector('video');
    const labelEl = wrap.querySelector('.label');
    vidEl.src = v.file;

    labelEl.innerHTML = `${v.label} <span class="badge" title="Distance from mean unimpaired">DMU ${Number.isFinite(Number(v.dmu)) ? Number(v.dmu).toFixed(2) : '—'}</span>`;

    vidEl.onmouseover=()=>vidEl.play();
    vidEl.onmouseout =()=>{vidEl.pause();vidEl.currentTime=0;};
    wrap.onclick=()=>{
      const modal=document.getElementById('modal');
      const mvid=document.getElementById('modal-video');
      mvid.src=v.file;
      modal.classList.add('is-active');
    };
    return wrap;
  }

  const seen = vids.filter(v=>v.group==='seen');
  const unseen = vids.filter(v=>v.group==='unseen');

  // First three (seen)
  seen.forEach(v=>row.appendChild(makeCard(v)));

  // Grey group with extra padding around the two unseen cards
  const group = document.createElement('div');
  group.className = 'unseen-group';

  const label = document.createElement('div');
  label.className = 'unseen-label';
  label.textContent = 'Unseen Conditions (Test)';
  group.appendChild(label);

  unseen.forEach(v=>group.appendChild(makeCard(v)));
  row.appendChild(group);

  // modal close
  document.querySelectorAll('#modal .modal-background, #modal .modal-close').forEach(el=>{
    el.onclick=()=>{
      const modal=document.getElementById('modal');
      const mvid=document.getElementById('modal-video');
      mvid.pause();
      modal.classList.remove('is-active');
    };
  });
</script>

<!-- ========== Abstract ========== -->
<section class="section has-background-light">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Abstract</h2>
    <div class="content">
      <p><strong>Background.</strong> Regular gait analysis could enhance personalised treatment for many movement-related conditions; however, it is not routinely integrated into clinical care. Although mobile sensing (e.g. smartphone-based motion capture) enables rapid gait assessment, extracting actionable insights remains a challenge.</p>
      <p><strong>Objective.</strong> We introduce <em>GaitEncoder</em>, a generative foundation model that encodes high-dimensional 3D gait kinematics into a compact 16-dimensional latent space and enables clinically meaningful downstream tasks across diverse pathologies.</p>
      <p><strong>Methods.</strong> We aggregated eight datasets comprising 631 individuals (age 8-88) spanning seven pathologies and trained a semi-supervised variational autoencoder. We evaluated zero-shot disorder classification, UPDRS severity prediction, rehabilitation tracking, and patient-specific surgical outcome prediction.</p>
      <p><strong>Results.</strong> The latent representation distinguished an unseen neuromuscular disorder from controls (<em>p = 0.031</em>), predicted Parkinson’s Disease severity (<em>r = 0.65</em>), tracked acute stroke recovery, and outperformed average-effect baselines in forecasting post-hip-replacement kinematic changes (<em>p = 0.014</em>).</p>
      <p><strong>Significance.</strong> Our GaitEncoder provides a generalizable representation which may accelerate the development of clinical tools for monitoring disease progression, guiding rehabilitation, and informing surgical decisions, particularly for rare movement-related disorders.</p>
    </div>
  </div>
</section>

<!-- ========== Poster ========== -->
<section class="section">
  <div class="container is-max-desktop">
    <h2 class="title is-3 has-text-centered">Poster</h2>
    <iframe src="static/pdfs/poster.pdf" style="width:100%;height:1000px;border:none;"></iframe>
  </div>
</section>

<!-- ========== Footer ========== -->
<footer class="footer">
  <div class="container">
    <div class="content has-text-centered is-size-7">
      <p>This page was built from the <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project Page Template</a>. Content © 2025 R. Daniel Magruder et al. • Licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC-BY-SA 4.0</a>.</p>
    </div>
  </div>
</footer>

<script defer src="static/js/fontawesome.all.min.js"></script>
</body>
</html>